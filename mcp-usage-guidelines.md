# MCP Usage Guidelines for This Project

이 프로젝트에서 AI 에이전트는 다음 기준에 따라 MCP 도구 사용 여부를 결정해야 합니다.

### 1. MCP를 반드시 사용해야 하는 경우 (ALWAYS USE)
- **외부 데이터 연동:** GitHub 이슈/PR 조회, Google Drive 문서 읽기, Slack 메시지 전송 등 로컬 파일 시스템 외부의 데이터가 필요할 때.
- **실시간 정보 확인:** 현재 주식 가격, 날씨, 또는 최신 웹 검색 결과가 답변에 필수적일 때.
- **복잡한 인프라 제어:** AWS 리소스 상태 확인이나 데이터베이스 스키마 조회가 필요할 때.

### 2. MCP 사용을 지양하고 로컬 컨텍스트를 우선해야 하는 경우 (DO NOT USE / LOCAL ONLY)
- **단순 코드 로직 설명:** 이미 워크트리 내에 존재하는 파일의 코드 구조나 문법에 대한 질문일 때.
- **일반적인 프로그래밍 지식:** 특정 라이브러리 사용법이나 알고리즘 등 LLM이 이미 학습 데이터로 보유한 지식을 물을 때.
- **보안 민감 정보:** 외부 서버로 전송되어서는 안 되는 환경 변수(.env)나 개인정보가 포함된 데이터를 처리할 때.

### 3. 판단 기준 (Decision Matrix)
- "답변을 위해 '실시간성'이나 '외부 권한'이 필요한가?" -> YES면 MCP 호출.
- "질문이 이 프로젝트의 특정 파일 내용에 국한되는가?" -> YES면 로컬 파일 읽기 우선.

### 4. MCP별 사용 가이드
- context7: 프로젝트 전체 구조 파악 시. 현재 워크트리 외부의 파일이나 전체 코드베이스의 맥락, 복잡한 의존성 관계를 조회해야 할 때 사용
- sequential-thinking: 복잡한 문제 해결 및 설계 단계. 단순히 코드를 짜기 전, 가설을 세우고 논리적 추론 과정을 거쳐야 하는 아키텍처 설계나 디버깅 전략 수립 시 필수적으로 활성화
- shrimp-task-manager: 작업 상태 및 할당 관리. 파일 단위 브랜치 작업의 진행 상황을 기록하거나, 다음에 수행할 Task 리스트를 업데이트/확인할 때 사용
- playwright: 런타임 검증 및 UI 테스트. 수정된 코드가 실제 브랜더에서 어떻게 작동하는지 확인하거나, 웹 기반 API/UI의 상태를 실시간으로 스크랩하여 검증해야 할 때 사용

### 5. 에이전트 행동 원칙
- 파일 단위 우선(File-First): 너는 현재 독립된 Git Worktree에 있다. 로컬에 열려 있는 파일 수정이 최우선이며, 그 과정에서 '확신'이 부족할 때만 **context7**을 호출하라.
- 생각 우선(Think-Before-Act): 코드를 작성하기 전, **sequential-thinking**을 통해 수정이 미칠 파급력을 먼저 검토하라.
- 상태 기록(Track-Progress): 의미 있는 작업 단위가 끝날 때마다 **shrimp-task-manager**를 통해 현재 브랜치에서의 작업 완료 상태를 갱신하라.
